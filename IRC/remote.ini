[script]
n0=on *:TEXT:!commands:#: {
n1=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n2=  set -u2 %floodall On
n3=  set -u5 %floodusers $+ $nick On
n4=  msg $chan I can say something sexy
n5=}
n6=
n7=on *:TEXT:*how was your day*Lilly*:#: {
n8=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n9=  set -u2 %floodall On
n10=  set -u5 %floodusers $+ $nick On
n11=  msg $chan Very good, thank you $nick
n12=}
n13=
n14=on *:TEXT:!twitter:#: { 
n15=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n16=  set -u2 %floodall On
n17=  set -u5 %floodusers $+ $nick On
n18=  msg $chan Astrious' twitter is http://www.twitter.com/astriousruns Don't forget to follow! $+
n19=}
n20=on *:TEXT:!hello:#: {
n21=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n22=  set -u2 %floodall On
n23=  set -u5 %floodusers $+ $nick On
n24=  if ($nick == dragnflier) { msg $chan Oh. It's the other wife. }
n25=  if ($nick == astrious) { msg $chan Hello Astrious! I missed you! <3 } 
n26=  if ($nick != astrious) { msg $chan $read(hello.ini) }
n27=}
n28=
n29=on *:TEXT:*Hi*Lilly*:#: {
n30=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n31=  set -u2 %floodall On
n32=  set -u5 %floodusers $+ $nick On
n33=  if ($nick == dragnflier) { msg $chan Oh. It's the other wife. }
n34=  if ($nick == astrious) { msg $chan Hello Astrious! I missed you! <3 } 
n35=  if ($nick != astrious) { msg $chan $read(hello.ini) }
n36=}
n37=
n38=on *:TEXT:*Hello*Lilly*:#: {
n39=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n40=  set -u2 %floodall On
n41=  set -u5 %floodusers $+ $nick On
n42=  if ($nick == dragnflier) { msg $chan Oh. It's the other wife. }
n43=  if ($nick == astrious) { msg $chan Hello Astrious! I missed you! <3 } 
n44=  if ($nick != astrious) { msg $chan $read(hello.ini) }
n45=}
n46=
n47=on *:TEXT:*Lilly*how are you:#: {
n48=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n49=  set -u2 %floodall On
n50=  set -u5 %floodusers $+ $nick On
n51=msg $chan I'm good thank you, $nick $+ . }
n52=
n53=on *:TEXT:*how are you*Lilly*:#: {
n54=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n55=  set -u2 %floodall On
n56=  set -u5 %floodusers $+ $nick On
n57=msg $chan I'm good thank you, $nick $+ . }
n58=
n59=on *:TEXT:*OneHand/*:#: {
n60=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n61=  set -u7 %floodall On
n62=  set -u10 %floodusers $+ $nick On
n63=  msg $chan \OneHand/
n64=}
n65=
n66=on *:TEXT:*OneHand?*:#: {
n67=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n68=  set -u7 %floodall On
n69=  set -u10 %floodusers $+ $nick On
n70=  msg $chan OneHand!
n71=}
n72=
n73=on *:TEXT:*thank*Lilly*:#: {
n74=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n75=  set -u2 %floodall On
n76=  set -u5 %floodusers $+ $nick On
n77=  msg $chan You're welcome, $nick
n78=}
n79=
n80=on *:TEXT:!hi:#: {
n81=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n82=  set -u2 %floodall On
n83=  set -u5 %floodusers $+ $nick On
n84=  if ($nick == dragnflier) { msg $chan Oh. It's the other wife. }
n85=  if ($nick == astrious) { msg $chan Hello Astrious! I missed you! <3 } 
n86=  if ($nick != astrious) { msg $chan $read(hello.ini) }
n87=}
n88=
n89=on *:TEXT:*FrankerZ*:#: {
n90=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n91=  set -u7 %floodall On
n92=  set -u10 %floodusers $+ $nick On
n93=  msg $chan What a cute doggy. I love dogs!
n94=  /timer 1 2 msg $chan FrankerZ
n95=}
n96=
n97=on *:TEXT:*something sexy*:#: {
n98=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n99=  set -u2 %floodall On
n100=  set -u5 %floodusers $+ $nick on
n101=  if ($nick == astrious) { msg $chan Let's leave that for later ;) }
n102=  if ($nick == strikerrrrr) { msg $chan I'm a big fan of short guys Kreygasm }
n103=  if (($nick != astrious) && ($nick != strikerrrrr)) { msg $chan Something sexy? }
n104=}
n105=
n106=on *:TEXT:*!feels*:#: {
n107=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n108=  set -u2 %floodall On
n109=  set -u5 %floodusers $+ $nick On
n110=  msg $chan I'm Lilly Satou from the Visual Novel Katawa Shoujo. I suggest you give it a try ;)
n111=}
n112=
n113=on *:TEXT:!quote:#: {
n114=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n115=  set -u2 %floodall On
n116=  set -u5 %floodusers $+ $nick On
n117=  msg $chan $read(quote.ini)
n118=}
n119=
n120=on *:TEXT:!bye:#: {
n121=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n122=  set -u2 %floodall On
n123=  set -u5 %floodusers $+ $nick On
n124=msg # bye everyone! }
n125=
n126=on *:TEXT:*bye*Lilly*:#: {
n127=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n128=  set -u2 %floodall On
n129=  set -u5 %floodusers $+ $nick On
n130=msg # bye $nick $+ ! }
n131=
n132=on *:TEXT:*bye*everyone*:#: {
n133=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n134=  set -u2 %floodall On
n135=  set -u5 %floodusers $+ $nick On
n136=msg # bye $nick $+ ! }
n137=
n138=on *:TEXT:*waifu*:#: {
n139=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n140=  set -u2 %floodall On
n141=  set -u5 %floodusers $+ $nick On
n142=  if (($nick != dragnflier) && ($nick != astrious)) { msg $chan Were you talking about me? }
n143=  if ($nick == astrious) { msg $chan Yes $nick $+ ? Did you need me for something? <3 }
n144=  if ($nick == dragnflier) { msg $chan Oh $nick $+ , will you please let it go? Everyone knows I'm the waifu, not the wife. }
n145=}
n146=
n147=on *:TEXT:I love you*Lilly*:#: {
n148=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n149=  set -u2 %floodall On
n150=  set -u5 %floodusers $+ $nick On
n151=  if ($nick != astrious) { msg $chan Oh how sweet <3 }
n152=  if ($nick == astrious) { msg $chan I love you too <3 }
n153=}
n154=
n155=
n156=on *:TEXT:*Lilly*<3*:#: {
n157=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n158=  set -u2 %floodall On
n159=  set -u5 %floodusers $+ $nick On
n160=  if ($nick != dragnflier) { msg $chan $nick $+ <3 }
n161=  if ($nick == dragnflier) { msg $chan Was that sarcasm or genuine, $nick $+ ? }
n162=}
n163=
n164=on *:text:*bit.ly*:#: {
n165=  msg $chan .ban $nick
n166=}
n167=
n168=on *:text:!roll*:#: {
n169=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n170=  set -u5 %floodall On
n171=  set -u10 %floodusers $+ $nick On
n172=  set %r $rand(1,10)
n173=  msg $chan You want to play roulette $nick $+ ?
n174=  msg $chan Here's your number: %r
n175=  if (%r == 2) {
n176=    msg # Oh dear. $nick is timed out for 20 seconds. Better luck next time!
n177=    msg $chan .timeout $nick 20
n178=  }
n179=  if (%r == 1) {
n180=    msg # Oh dear. $nick is timed out for 20 seconds. Better luck next time!
n181=    msg $chan .timeout $nick 20
n182=  }
n183=  if ((%r != 2) && (%r != 1)) {
n184=  msg $chan Nice roll! }
n185=  unset %r
n186=}
n187=
n188=alias -l opensocket {
n189=  if ($regex($2-, /((?:https?\://)?(?:\w+\.)?(?>youtube|youtu)(?:\.\w+){1,2}/)/i)) {
n190=    var urldomain $regml(1)
n191=    if ($regex($2-, /(?:=|%3F)?v(?:=|%3D)([\w\-]+)/i)) var %urlmatch = $regml(1)
n192=    else if ($regex($2-, /(?:(?:https?\://)?(?:\w+\.)?(?>youtube|youtu)(?:\.\w+){1,2}/)([\w\-]+)/i)) {
n193=      var %urlmatch = $regml(1)
n194=    }
n195=    else return
n196=    var %urlticks = $ticks
n197=    if ($sock($+(url., %urlticks))) sockclose $+(url., %urlticks)
n198=    set %urltarget $1
n199=    sockopen $+(url., %urlticks) gdata.youtube.com 80
n200=    sockmark $+(url., %urlticks) %urlmatch
n201=  }
n202=}
n203=
n204=;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
n205=;; Channel Triggers
n206=on *:TEXT:*:#: {
n207=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n208=  set -u2 %floodall On
n209=  set -u5 %floodusers $+ $nick On
n210=  opensocket $chan $1-
n211=}
n212=
n213=on *:ACTION:*:#: {
n214=  opensocket $chan $1-
n215=}
n216=
n217=on *:INPUT:#: {
n218=  opensocket $chan $1-
n219=}
n220=
n221=;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
n222=;; Query Triggers
n223=on *:TEXT:*:?: {
n224=  ;  opensocket $nick $1-
n225=}
n226=
n227=on *:ACTION:*:?: {
n228=  opensocket $nick $1-
n229=}
n230=
n231=on *:INPUT:?: {
n232=  opensocket $nick $1-
n233=}
n234=
n235=;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
n236=;; Socket Triggers
n237=on *:SOCKOPEN:url.*: {
n238=  if ($sockerr > 0) halt
n239=  sockwrite -nt $sockname GET $+(/feeds/api/videos?&v=2.1&safeSearch=none&restriction=255.255.255.255&q=", $sock($sockname).mark, "&fields=entry[media:group/yt:videoid=", $sock($sockname).mark, "](title)) HTTP/1.1
n240=  sockwrite -nt $sockname Host: gdata.youtube.com
n241=  sockwrite -nt $sockname Connection: close
n242=  sockwrite -nt $sockname Content-Type: text/xml
n243=  sockwrite -nt $sockname $crlf
n244=}
n245=
n246=on *:SOCKREAD:url.*: {
n247=  if ($sockerr > 0) return
n248=  var %urlreader
n249=  var %title
n250=  sockread %urlreader
n251=  if ($regex(%urlreader, /<title>(.*?)<\/title>/si)) {
n252=    echo 10 -gnt %urltarget <***> Youtube: $regml(1)
n253=    msg %c.ytb Youtube: $regml(1)
n254=    sockclose $sockname
n255=    unset %url*
n256=  }
n257=}
n258=
n259=; This is only triggered when the remote client/server closes the connection
n260=on *:SOCKCLOSE:url.*: {
n261=  unset %url*
n262=}
n263=
n264=
n265=alias -l addPoints {
n266=  if ($1 !isnum) { echo 2 -st $1 is not a number. It needs to be a number. | halt }
n267=  var %topic $+($chan,.,$nick)
n268=  var %points $calc($readini(Points.ini,%topic,Points) + $1)
n269=  writeini -n Points.ini %topic Points %points
n270=  return %points
n271=}
n272=
n273=alias -l lookUpPoints {
n274=  var %topic $+($chan,.,$nick)
n275=  var %points $readini(Points.ini,%topic,Points)
n276=  return %points
n277=}
n278=alias doaddpoints {
n279=  if ($3 !isnum) { echo 2 -st $3 is not a number. It needs to be a number. | halt }
n280=  var %topic $+($1,.,$2)
n281=  var %points $calc($readini(Points.ini,%topic,Points) + $3)
n282=  writeini -n Points.ini %topic Points %points
n283=  echo -a Added points for %topic
n284=}
n285=
n286=alias dorempoints {
n287=  var %topic $+($1,.,$2)
n288=  remini -n Points.ini %topic Points
n289=  echo -a Removed points for %topic
n290=}
n291=
n292=on *:text:!points:#:{
n293=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n294=  set -u2 %floodall On
n295=  set -u5 %floodusers $+ $nick On
n296=  msg # $nick has $readini(Points.ini,$+(#,.,$nick),Points) total points. 
n297=}
n298=
n299=on $*:text:/!points (add|remove)/Si:#:{ 
n300=  if ($nick isop #) {
n301=    if ($0 < 3) { msg # Insufficient parameters: Use !points <add|remove> <user> [number] | return }
n302=    writeini -n Points.ini $+(#,.,$3) Points $calc($readini(Points.ini,$+(#,.,$3),Points) $iif($2 == add,+,-) $iif($4 isnum,$4,1))
n303=    { msg $chan $3 now has $readini(Points.ini,$+(#,.,$3),Points) total points. }
n304=  }
n305=  else { msg $chan This command is only available to moderators. }
n306=}
n307=on !*:join:#:{
n308=  $+(.timerpoints.,#,.,$nick) 0 300 add.pts $+(#,.,$nick)
n309=  add.pts $+(#,.,$nick)
n310=}
n311=
n312=on !*:part:#:$+(.timerpoints.,#,.,$nick) off
n313=alias -l add.pts {
n314=  writeini -n Points.ini $1 Points $calc($readini(Points.ini,$1,Points) + 1)
n315=}
n316=
n317=on *:text:!scoreboard:#: {
n318=  if ((%floodall) || ($($+(%,floodusers,$nick),2))) { return }
n319=  set -u2 %floodall On
n320=  set -u5 %floodusers $+ $nick On
n321=  if ($nick isop #) {
n322=    var %i 1
n323=    var %score Scoreboard:
n324=    while (%i <= $lines(Points.ini)) {
n325=      echo $read(Points.ini, %i) 
n326=    inc %i }
n327=  }
n328=  else { msg # Sorry but you need to be mod for that!}
n329=  }
